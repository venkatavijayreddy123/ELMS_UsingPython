{% extends "base.html" %}
{% block title %}Admin Dashboard{% endblock %}
{% block content %}
<h2>Admin Dashboard</h2>
<table border="1" cellpadding="5">
<tr>
    <th>ID</th>
    <th>Username</th>
    <th>Start Date</th>
    <th>End Date</th>
    <th>Reason</th>
    <th>Status</th>
    <th>Action</th>
</tr>
{% for leave in leaves %}
<tr>
    <td>{{ leave.id }}</td>
    <td>{{ leave.username }}</td>
    <td>{{ leave.start_date }}</td>
    <td>{{ leave.end_date }}</td>
    <td>{{ leave.reason }}</td>
    <td>{{ leave.status }}</td>
    <td>
        {% if leave.status == 'Pending' %}
        <a href="{{ url_for('handle_leave', leave_id=leave.id, action='Approved') }}">Approve</a> |
        <a href="{{ url_for('handle_leave', leave_id=leave.id, action='Rejected') }}">Reject</a>
        {% else %}
        N/A
        {% endif %}
    </td>
</tr>
{% endfor %}
</table>
{% endblock %}
